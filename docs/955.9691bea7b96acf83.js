"use strict";(self.webpackChunkangular_conduit=self.webpackChunkangular_conduit||[]).push([[955],{955:(O,g,s)=>{s.r(g),s.d(g,{MainPageComponent:()=>M});var t=s(2029),C=s(7398),v=s(9862);let u=(()=>{class i{constructor(e){this.http=e}getAll(){return this.http.get("/tags").pipe((0,C.U)(e=>e.tags))}static#t=this.\u0275fac=function(n){return new(n||i)(t.LFG(v.eN))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var l=s(6814),Z=s(3292),r=s(9397),d=s(9773),p=s(8645),T=s(7661),f=s(3699),h=s(3934);function U(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"a",4),t.NdJ("click",function(){const a=t.CHM(e).$implicit,I=t.oxw();return t.KtG(I.redirectUnauthorizedCustomer("all",{tag:a}))}),t._uU(1),t.qZA()}if(2&i){const e=c.$implicit;t.xp6(1),t.hij(" ",e," ")}}function y(i,c){1&i&&(t.TgZ(0,"div"),t._uU(1,"Loading tags..."),t.qZA())}function A(i,c){1&i&&(t.TgZ(0,"div"),t._uU(1," You did not add any tags before "),t.qZA())}let L=(()=>{class i{constructor(e,n){this.router=e,this.customerService=n,this.isCustomerLoggedIn=!1,this.listConfig={type:"all",filters:{}},this.tags$=(0,t.f3M)(u).getAll().pipe((0,r.b)(()=>this.tagsLoaded=!0)),this.tagsLoaded=!1,this.subscriptionCancellation$=new p.x}ngOnInit(){this.customerService.isCustomerLoggedIn.pipe((0,r.b)(e=>{this.redirectUnauthorizedCustomer(e?"feed":"all")}),(0,d.R)(this.subscriptionCancellation$)).subscribe(e=>this.isCustomerLoggedIn=e)}ngOnDestroy(){this.subscriptionCancellation$.next(),this.subscriptionCancellation$.complete()}redirectUnauthorizedCustomer(e="",n={}){"feed"!==e||this.isCustomerLoggedIn?this.listConfig={type:e,filters:n}:this.router.navigate(["/login"])}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(f.F0),t.Y36(h.v))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-tag-list"]],standalone:!0,features:[t.jDz],decls:10,vars:7,consts:[[1,"sidebar"],[1,"tag-list"],["class","tag-default tag-pill",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"tag-default","tag-pill",3,"click"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div")(1,"div",0)(2,"p"),t._uU(3,"Popular Tags"),t.qZA(),t.TgZ(4,"div",1),t.YNc(5,U,2,1,"a",2),t.ALo(6,"async"),t.qZA(),t.YNc(7,y,2,0,"div",3),t.YNc(8,A,2,0,"div",3),t.ALo(9,"async"),t.qZA()()),2&n){let a;t.xp6(5),t.Q6J("ngForOf",t.lcZ(6,3,o.tags$)),t.xp6(2),t.Q6J("ngIf",!o.tagsLoaded),t.xp6(1),t.Q6J("ngIf",(null==(a=t.lcZ(9,5,o.tags$))?null:a.length)<=0)}},dependencies:[l.Ov,l.sg,l.O5],styles:[".nav-link[_ngcontent-%COMP%], .tag-pill[_ngcontent-%COMP%]{cursor:pointer}.tag-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr}"],changeDetection:0})}return i})();function b(i,c){1&i&&(t.TgZ(0,"div",12)(1,"div",13)(2,"h1",14),t._uU(3,"Conduit"),t.qZA(),t.TgZ(4,"p"),t._uU(5,"A place to share your "),t.TgZ(6,"i"),t._uU(7,"Angular"),t.qZA(),t._uU(8," knowledge."),t.qZA()()())}const m=function(i){return{active:i}};let M=(()=>{class i{constructor(e,n){this.router=e,this.customerService=n,this.isCustomerLoggedIn=!1,this.listConfig={type:"all",filters:{}},this.tags$=(0,t.f3M)(u).getAll().pipe((0,r.b)(()=>this.tagsLoaded=!0)),this.tagsLoaded=!1,this.subscriptionCancellation$=new p.x}ngOnInit(){this.customerService.isCustomerLoggedIn.pipe((0,r.b)(e=>{this.redirectUnauthorizedCustomer(e?"feed":"all")}),(0,d.R)(this.subscriptionCancellation$)).subscribe(e=>this.isCustomerLoggedIn=e)}ngOnDestroy(){this.subscriptionCancellation$.next(),this.subscriptionCancellation$.complete()}redirectUnauthorizedCustomer(e="",n={}){"feed"!==e||this.isCustomerLoggedIn?this.listConfig={type:e,filters:n}:this.router.navigate(["/login"])}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(f.F0),t.Y36(h.v))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-main-page"]],standalone:!0,features:[t.jDz],decls:19,vars:11,consts:[[1,"home-page"],["class","banner",4,"appShowAuthed"],[1,"container","page"],[1,"layout"],[1,"feed-toggle"],[1,"nav","nav-pills","outline-active"],[1,"nav-item"],[1,"nav-link",3,"ngClass","click"],[1,"nav-item",3,"hidden"],[1,"nav-link","active"],[1,"ion-pound"],[3,"limit","config"],[1,"banner"],[1,"container"],[1,"logo-font"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.YNc(1,b,9,0,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"div")(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),t.NdJ("click",function(){return o.redirectUnauthorizedCustomer("feed")}),t._uU(9," Your Feed "),t.qZA()(),t.TgZ(10,"li",6)(11,"a",7),t.NdJ("click",function(){return o.redirectUnauthorizedCustomer("all")}),t._uU(12," Global Feed "),t.qZA()(),t.TgZ(13,"li",8)(14,"a",9),t._UZ(15,"i",10),t._uU(16),t.qZA()()()(),t._UZ(17,"app-article-list",11),t.qZA(),t._UZ(18,"app-tag-list"),t.qZA()()()),2&n&&(t.xp6(1),t.Q6J("appShowAuthed",!1),t.xp6(7),t.Q6J("ngClass",t.VKq(7,m,"feed"===o.listConfig.type)),t.xp6(3),t.Q6J("ngClass",t.VKq(9,m,"all"===o.listConfig.type&&!o.listConfig.filters.tag)),t.xp6(2),t.Q6J("hidden",!o.listConfig.filters.tag),t.xp6(3),t.hij(" ",o.listConfig.filters.tag," "),t.xp6(1),t.Q6J("limit",10)("config",o.listConfig))},dependencies:[l.mk,Z.P,T.v,L],styles:[".nav-link[_ngcontent-%COMP%], .tag-pill[_ngcontent-%COMP%]{cursor:pointer}.layout[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"],changeDetection:0})}return i})()}}]);